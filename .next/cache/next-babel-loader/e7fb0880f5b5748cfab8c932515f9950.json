{"ast":null,"code":"import { applyMiddleware, createStore } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport { createWrapper } from 'next-redux-wrapper';\nimport { rootReducer } from './root-reducer';\nimport { rootSaga } from './root-saga';\nexport var makeStore = function makeStore(context) {\n  /**\r\n   * Recreate the stdChannel (saga middleware) with every context.\r\n   */\n  var sagaMiddleware = createSagaMiddleware();\n  /**\r\n   * Since Next.js does server-side rendering, you are REQUIRED to pass\r\n   * `preloadedState` when creating the store.\r\n   */\n\n  var store = createStore(rootReducer, preloadedState, applyMiddleware(sagaMiddleware));\n  /**\r\n   * next-redux-saga depends on `sagaTask` being attached to the store during `getInitialProps`.\r\n   * It is used to await the rootSaga task before sending results to the client.\r\n   * However, next-redux-wrapper creates two server-side stores per request:\r\n   * One before `getInitialProps` and one before SSR (see issue #62 for details).\r\n   * On the server side, we run rootSaga during `getInitialProps` only:\r\n   */\n\n  if (req || !isServer) {\n    store.sagaTask = sagaMiddleware.run(rootSaga);\n  }\n\n  return store;\n};\nexport var wrapper = createWrapper(makeStore, {\n  debug: true\n});","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Create-Project/src/Components/Lib/Store/store.ts"],"names":["applyMiddleware","createStore","createSagaMiddleware","createWrapper","rootReducer","rootSaga","makeStore","context","sagaMiddleware","store","preloadedState","req","isServer","sagaTask","run","wrapper","debug"],"mappings":"AAAA,SAASA,eAAT,EAAoDC,WAApD,QAA8E,OAA9E;AAEA,OAAOC,oBAAP,MAA2C,YAA3C;AACA,SAASC,aAAT,QAAyC,oBAAzC;AAGA,SAAuBC,WAAvB,QAA0C,gBAA1C;AACA,SAASC,QAAT,QAAyB,aAAzB;AAEA,OAAO,IAAMC,SAAyC,GAAG,SAA5CA,SAA4C,CAACC,OAAD,EAA2B;AACnF;;;AAIA,MAAMC,cAAc,GAAGN,oBAAoB,EAA3C;AAEA;;;;;AAKA,MAAMO,KAAK,GAAGR,WAAW,CAACG,WAAD,EAAcM,cAAd,EAA8BV,eAAe,CAACQ,cAAD,CAA7C,CAAzB;AAEA;;;;;;;;AAQA,MAAIG,GAAG,IAAI,CAACC,QAAZ,EAAsB;AACrBH,IAAAA,KAAK,CAACI,QAAN,GAAiBL,cAAc,CAACM,GAAf,CAAmBT,QAAnB,CAAjB;AACA;;AAED,SAAOI,KAAP;AACA,CA3BM;AA6BP,OAAO,IAAMM,OAAO,GAAGZ,aAAa,CAAsBG,SAAtB,EAAiC;AAAEU,EAAAA,KAAK,EAAE;AAAT,CAAjC,CAA7B","sourcesContent":["import { applyMiddleware, combineReducers, compose, createStore, Store } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport createSagaMiddleware, { Task } from 'redux-saga'\r\nimport { createWrapper, MakeStore } from 'next-redux-wrapper'\r\nimport { Context } from 'react'\r\nimport { initialValue } from '@Features/Posts/Model/reducer'\r\nimport { AppStateType, rootReducer } from './root-reducer'\r\nimport { rootSaga } from './root-saga'\r\n\r\nexport const makeStore: MakeStore<typeof initialValue> = (context: Context<any>) => {\r\n\t/**\r\n\t * Recreate the stdChannel (saga middleware) with every context.\r\n\t */\r\n\r\n\tconst sagaMiddleware = createSagaMiddleware()\r\n\r\n\t/**\r\n\t * Since Next.js does server-side rendering, you are REQUIRED to pass\r\n\t * `preloadedState` when creating the store.\r\n\t */\r\n\r\n\tconst store = createStore(rootReducer, preloadedState, applyMiddleware(sagaMiddleware))\r\n\r\n\t/**\r\n\t * next-redux-saga depends on `sagaTask` being attached to the store during `getInitialProps`.\r\n\t * It is used to await the rootSaga task before sending results to the client.\r\n\t * However, next-redux-wrapper creates two server-side stores per request:\r\n\t * One before `getInitialProps` and one before SSR (see issue #62 for details).\r\n\t * On the server side, we run rootSaga during `getInitialProps` only:\r\n\t */\r\n\r\n\tif (req || !isServer) {\r\n\t\tstore.sagaTask = sagaMiddleware.run(rootSaga)\r\n\t}\r\n\r\n\treturn store\r\n}\r\n\r\nexport const wrapper = createWrapper<typeof initialValue>(makeStore, { debug: true })\r\ntype PropertiesType<T> = T extends { [key: string]: infer U } ? U : never\r\nexport type InferActionsType<\r\n\tT extends { [key: string]: (...args: any[]) => any }\r\n> = ReturnType<PropertiesType<T>>\r\n\r\nexport interface SagaStore extends Store {\r\n\tsagaTask?: Task\r\n}\r\n"]},"metadata":{},"sourceType":"module"}