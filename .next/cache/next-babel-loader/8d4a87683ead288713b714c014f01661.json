{"ast":null,"code":"import { applyMiddleware, compose, createStore } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport { rootSaga } from './root-saga';\n\nfunction configureReducer(isServer, rootReducer) {\n  if (!isServer) {\n    return persistReducer({\n      key: 'root',\n      version: 0,\n      storage: localforage,\n      whitelist: []\n    }, reduceCompoundActions(rootReducer));\n  }\n\n  return reduceCompoundActions(rootReducer);\n}\n\nvar composeEnhancers = true && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nexport function configureStore(stateFromServer, opts) {\n  var sagaMiddleware = createSagaMiddleware();\n  var store = createStore(configureReducer(opts.isServer, reducers), stateFromServer || initialState, composeEnhancers(applyMiddleware(sagaMiddleware))) // redux persistence to local storage\n  ;\n  store.__persister = persistStore(store) // start saga middleware\n  ;\n  store.sagaTask = sagaMiddleware.run(rootSaga);\n  return store;\n}","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Create-Project/src/Components/Lib/Store/store.ts"],"names":["applyMiddleware","compose","createStore","createSagaMiddleware","rootSaga","configureReducer","isServer","rootReducer","persistReducer","key","version","storage","localforage","whitelist","reduceCompoundActions","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","configureStore","stateFromServer","opts","sagaMiddleware","store","reducers","initialState","__persister","persistStore","sagaTask","run"],"mappings":"AAAA,SAASA,eAAT,EAA2CC,OAA3C,EAAoDC,WAApD,QAA8E,OAA9E;AAEA,OAAOC,oBAAP,MAA2C,YAA3C;AAGA,SAASC,QAAT,QAAyB,aAAzB;;AASA,SAASC,gBAAT,CAA8BC,QAA9B,EAAiDC,WAAjD,EAAsF;AACrF,MAAI,CAACD,QAAL,EAAe;AACd,WAAOE,cAAc,CACpB;AACCC,MAAAA,GAAG,EAAE,MADN;AAECC,MAAAA,OAAO,EAAE,CAFV;AAGCC,MAAAA,OAAO,EAAEC,WAHV;AAICC,MAAAA,SAAS,EAAE;AAJZ,KADoB,EAOpBC,qBAAqB,CAACP,WAAD,CAPD,CAArB;AASA;;AAED,SAAOO,qBAAqB,CAACP,WAAD,CAA5B;AACA;;AAED,IAAMQ,gBAAgB,GAAG,QAAmCC,MAAM,CAACC,oCAA1C,IAAkFhB,OAA3G;AAMA,OAAO,SAASiB,cAAT,CAAyBC,eAAzB,EAAoDC,IAApD,EAAyE;AAC/E,MAAMC,cAAc,GAAGlB,oBAAoB,EAA3C;AAEA,MAAMmB,KAAK,GAAGpB,WAAW,CACxBG,gBAAgB,CAACe,IAAI,CAACd,QAAN,EAAgBiB,QAAhB,CADQ,EAExBJ,eAAe,IAAIK,YAFK,EAGxBT,gBAAgB,CACff,eAAe,CAACqB,cAAD,CADA,CAHQ,CAAzB,CAQC;AARD;AASEC,EAAAA,KAAD,CAAeG,WAAf,GAA6BC,YAAY,CAACJ,KAAD,CAAzC,CAED;AAFC;AAGCA,EAAAA,KAAD,CAAeK,QAAf,GAA0BN,cAAc,CAACO,GAAf,CAAmBxB,QAAnB,CAA1B;AAED,SAAOkB,KAAP;AACA","sourcesContent":["import { applyMiddleware, combineReducers, compose, createStore, Store } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport createSagaMiddleware, { Task } from 'redux-saga'\r\nimport { createWrapper, MakeStore } from 'next-redux-wrapper'\r\nimport { AppStateType, rootReducer } from './root-reducer'\r\nimport { rootSaga } from './root-saga'\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\t__REDUX_DEVTOOLS_EXTENSION__: Function,\r\n\t\t__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: Function\r\n\t}\r\n}\r\n\r\nfunction configureReducer<S> (isServer: boolean, rootReducer: Reducer<S>): Reducer<S> {\r\n\tif (!isServer) {\r\n\t\treturn persistReducer(\r\n\t\t\t{\r\n\t\t\t\tkey: 'root',\r\n\t\t\t\tversion: 0,\r\n\t\t\t\tstorage: localforage,\r\n\t\t\t\twhitelist: []\r\n\t\t\t},\r\n\t\t\treduceCompoundActions(rootReducer)\r\n\t\t)\r\n\t}\r\n\r\n\treturn reduceCompoundActions(rootReducer)\r\n}\r\n\r\nconst composeEnhancers = (typeof window !== 'undefined') && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\ninterface MakeStoreOpts {\r\n\tisServer: boolean\r\n}\r\n\r\nexport function configureStore (stateFromServer: AppState, opts: MakeStoreOpts) {\r\n\tconst sagaMiddleware = createSagaMiddleware()\r\n\r\n\tconst store = createStore(\r\n\t\tconfigureReducer(opts.isServer, reducers),\r\n\t\tstateFromServer || initialState,\r\n\t\tcomposeEnhancers(\r\n\t\t\tapplyMiddleware(sagaMiddleware)\r\n\t\t)\r\n\t\t)\r\n\r\n\t\t// redux persistence to local storage\r\n\t;(store as any).__persister = persistStore(store)\r\n\r\n\t// start saga middleware\r\n\t;(store as any).sagaTask = sagaMiddleware.run(rootSaga)\r\n\r\n\treturn store\r\n}\r\ntype PropertiesType<T> = T extends { [key: string]: infer U } ? U : never\r\nexport type InferActionsType<\r\n\tT extends { [key: string]: (...args: any[]) => any }\r\n> = ReturnType<PropertiesType<T>>\r\n\r\nexport interface SagaStore extends Store {\r\n\tsagaTask?: Task\r\n}\r\n"]},"metadata":{},"sourceType":"module"}